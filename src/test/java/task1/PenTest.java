package task1;


import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.BeforeEach;

import static org.hamcrest.CoreMatchers.equalTo;
import static org.hamcrest.core.StringContains.containsString;
import static org.junit.Assert.assertThat;

public class PenTest {

    private Pen testPen;

    @BeforeEach
    void install(){
        testPen = new Pen("Blue", 1200.20, "parker");
    }


    @Test
     void constructorTest()throws Exception{
        assertThat(testPen.getColor(), equalTo("Blue"));
        assertThat(testPen.getPrice(), equalTo(1200.20));
        assertThat(testPen.getBrand(), equalTo("parker"));
    }

    @Test
    void drawTest() throws Exception{
        assertThat(testPen.draw("testMessage"), equalTo("testMessage was written with a Blue parker"));
    }

    @Test
    void equalsTest() throws Exception{
        Pen penForEqual = new Pen("Red", 150.60, "redPens");
        Pen penForEqual2 = new Pen("Blue", 1200.20, "parker");

        assertThat(testPen.equals(penForEqual2), equalTo(true));
        assertThat(testPen.equals(penForEqual), equalTo(false));
        assertThat(testPen.equals(testPen), equalTo(true));
        assertThat(testPen.equals(null), equalTo(false));
    }

    @Test
    void  toStringTest() throws Exception{
        assertThat(testPen.toString(), containsString(testPen.getBrand()));
        assertThat(testPen.toString(), containsString(testPen.getColor()));
        assertThat(testPen.toString(), containsString(Double.toString(testPen.getPrice())));
    }
}

